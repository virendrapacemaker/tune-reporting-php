\hypertarget{ExampleUsers_8php-example}{\section{Example\-Users.\-php}
}

\begin{DoxyCodeInclude}
<?php\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ *}
\textcolor{comment}{ * Copyright (c) 2014 Tune, Inc}
\textcolor{comment}{ * All rights reserved.}
\textcolor{comment}{ *}
\textcolor{comment}{ * Permission is hereby granted, free of charge, to any person obtaining a copy}
\textcolor{comment}{ * of this software and associated documentation files (the "Software"), to deal}
\textcolor{comment}{ * in the Software without restriction, including without limitation the rights}
\textcolor{comment}{ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell}
\textcolor{comment}{ * copies of the Software, and to permit persons to whom the Software is}
\textcolor{comment}{ * furnished to do so, subject to the following conditions:}
\textcolor{comment}{ *}
\textcolor{comment}{ * The above copyright notice and this permission notice shall be included in}
\textcolor{comment}{ * all copies or substantial portions of the Software.}
\textcolor{comment}{ *}
\textcolor{comment}{ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}
\textcolor{comment}{ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}
\textcolor{comment}{ * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE}
\textcolor{comment}{ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER}
\textcolor{comment}{ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,}
\textcolor{comment}{ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN}
\textcolor{comment}{ * THE SOFTWARE.}
\textcolor{comment}{ *}
\textcolor{comment}{ * PHP Version 5.3}
\textcolor{comment}{ *}
\textcolor{comment}{ * @category  Tune}
\textcolor{comment}{ * @package   Tune\_PHP\_SDK}
\textcolor{comment}{ * @author    Jeff Tanner <jefft@tune.com>}
\textcolor{comment}{ * @copyright 2014 Tune (http://www.tune.com)}
\textcolor{comment}{ * @license   http://opensource.org/licenses/MIT The MIT License (MIT)}
\textcolor{comment}{ * @version   0.9.1}
\textcolor{comment}{ * @link      https://developers.mobileapptracking.com Tune Developer Community @endlink}
\textcolor{comment}{ *}
\textcolor{comment}{ */}

\textcolor{keyword}{namespace }Tune\(\backslash\)Examples\(\backslash\)Management\(\backslash\)Api\(\backslash\)Account;

use \hyperlink{classTune_1_1Management_1_1Api_1_1Account_1_1Users}{Tune\(\backslash\)Management\(\backslash\)Api\(\backslash\)Account\(\backslash\)Users};
\textcolor{comment}{}
\textcolor{comment}{/**}
\textcolor{comment}{ * Class ExampleUsers}
\textcolor{comment}{ *}
\textcolor{comment}{ * @package Tune\(\backslash\)Examples\(\backslash\)Management\(\backslash\)Api\(\backslash\)Account}
\textcolor{comment}{ */}
\textcolor{keyword}{class }ExampleUsers
\{\textcolor{comment}{}
\textcolor{comment}{    /**}
\textcolor{comment}{     * Constructor that prevents a default instance of this class from being created.}
\textcolor{comment}{     */}
    \textcolor{keyword}{private} \textcolor{keyword}{function} \_\_construct()
    \{

    \}
\textcolor{comment}{}
\textcolor{comment}{    /**}
\textcolor{comment}{     * @param string $api\_key MobileAppTracking API Key}
\textcolor{comment}{     *}
\textcolor{comment}{     * @throws \(\backslash\)InvalidArgumentException}
\textcolor{comment}{     * @throws \(\backslash\)Exception}
\textcolor{comment}{     */}
    \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keyword}{function} run(
        $api\_key
    ) \{
        \textcolor{comment}{// api\_key}
        \textcolor{keywordflow}{if} (!is\_string($api\_key) || empty($api\_key)) \{
            \textcolor{keywordflow}{throw} new \(\backslash\)InvalidArgumentException(\textcolor{stringliteral}{"Parameter 'api\_key' is not defined."});
        \}

        print(  \textcolor{stringliteral}{"============================================="} . PHP\_EOL);
        print(  \textcolor{stringliteral}{"= Tune Management API Account/Users Example ="} . PHP\_EOL);
        print(  \textcolor{stringliteral}{"============================================="} . PHP\_EOL);

        \textcolor{keywordflow}{try} \{
            $account\_users = \textcolor{keyword}{new} Users($api\_key, $validate = \textcolor{keyword}{true});

            echo \textcolor{stringliteral}{"======================================================"} . PHP\_EOL;
            echo \textcolor{stringliteral}{"= account/users all fields ="} . PHP\_EOL;
            $response = $account\_users->getFields();
            echo print\_r($response, \textcolor{keyword}{true}) . PHP\_EOL;

            echo \textcolor{stringliteral}{"======================================================"} . PHP\_EOL;
            echo \textcolor{stringliteral}{"= account/users/count.json request ="} . PHP\_EOL;

            $filter\_array = array(
                array(
                    \textcolor{stringliteral}{"column"} => \textcolor{stringliteral}{"first\_name"},
                    \textcolor{stringliteral}{"operator"} => \textcolor{stringliteral}{"LIKE"},
                    \textcolor{stringliteral}{"value"} => \textcolor{stringliteral}{"%a%"}
                ),
                \textcolor{stringliteral}{"AND"},
                array(
                    \textcolor{stringliteral}{"column"} => \textcolor{stringliteral}{"phone"},
                    \textcolor{stringliteral}{"operator"} => \textcolor{stringliteral}{"IS NOT NULL"}
                )
            );
            $response = $account\_users->count($filter\_array);

            echo \textcolor{stringliteral}{"= account/users/count.json response:"} . PHP\_EOL;

            echo \textcolor{stringliteral}{"Count: "} . print\_r($response->getData(), \textcolor{keyword}{true}) . PHP\_EOL;

            echo \textcolor{stringliteral}{"======================================================"} . PHP\_EOL;
            echo \textcolor{stringliteral}{"= account/users/find.json request ="} . PHP\_EOL;

            $filter\_str = \textcolor{stringliteral}{"((first\_name LIKE '%a%') AND (phone IS NOT NULL))"};

            $response = $account\_users->find(
                $fields      = null,
                $filter      = $filter\_str,
                $limit       = 5,
                $limit       = null,
                $sort        = array (
                    \textcolor{stringliteral}{'first\_name'} => \textcolor{stringliteral}{'ASC'},
                    \textcolor{stringliteral}{'last\_name'} => \textcolor{stringliteral}{'DESC'}
                )
            );

            echo \textcolor{stringliteral}{"= account/users/find.json response:"} . PHP\_EOL;
            echo print\_r($response, \textcolor{keyword}{true}) . PHP\_EOL;

            echo \textcolor{stringliteral}{"Find: "} . print\_r($response->getData(), \textcolor{keyword}{true}) . PHP\_EOL;

        \} \textcolor{keywordflow}{catch} (\hyperlink{classException}{Exception} $ex) \{
            echo \textcolor{stringliteral}{'Caught exception: '},  $ex->getMessage(), \textcolor{stringliteral}{"\(\backslash\)n"};
        \}
    \}
\}
\end{DoxyCodeInclude}
 