\hypertarget{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase}{\section{Tune\textbackslash{}Management\textbackslash{}Reports\textbackslash{}Reports\-Insight\-Base Class Reference}
\label{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase}\index{Tune\textbackslash{}\-Management\textbackslash{}\-Reports\textbackslash{}\-Reports\-Insight\-Base@{Tune\textbackslash{}\-Management\textbackslash{}\-Reports\textbackslash{}\-Reports\-Insight\-Base}}
}


Inheritance diagram for Tune\textbackslash{}Management\textbackslash{}Reports\textbackslash{}Reports\-Insight\-Base\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Tune\textbackslash{}Management\textbackslash{}Reports\textbackslash{}Reports\-Insight\-Base\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a4f2d06123aa69e69e8240e819364f425}{\-\_\-\-\_\-construct} (\$controller, \$api\-\_\-key, \$filter\-\_\-debug\-\_\-mode, \$filter\-\_\-test\-\_\-profile\-\_\-id, \$validate=false)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_aa8ef42d5b10d3540865969437261d090}{count} (\$start\-\_\-date, \$end\-\_\-date, \$cohort\-\_\-type, \$group, \$cohort\-\_\-interval=null, \$filter=null, \$response\-\_\-timezone=null)
\begin{DoxyCompactList}\small\item\em Counts all existing records that match filter criteria and returns an array of found model data. \end{DoxyCompactList}\item 
\hyperlink{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a1cb8a128711b32efb903194dd84e8af6}{find} (\$start\-\_\-date, \$end\-\_\-date, \$cohort\-\_\-type, \$aggregation\-\_\-type, \$group, \$cohort\-\_\-interval=null, \$filter=null, \$fields=null, \$limit=null, \$page=null, \$sort=null, \$format=null, \$response\-\_\-timezone=null)
\begin{DoxyCompactList}\small\item\em Finds all existing records that match filter criteria and returns an array of found model data. \end{DoxyCompactList}\item 
\hyperlink{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a3e56e5dd9984ec0ff20db6a21de4f455}{export} (\$start\-\_\-date, \$end\-\_\-date, \$cohort\-\_\-type, \$aggregation\-\_\-type, \$group, \$fields, \$cohort\-\_\-interval=null, \$filter=null, \$response\-\_\-timezone=null)
\begin{DoxyCompactList}\small\item\em Places a job into a queue to generate a report that will contain records that match provided filter criteria, and it returns a job identifier to be provided to action /export/download.json to download completed report. \end{DoxyCompactList}\item 
\hyperlink{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_aaae96a8b5716cb100ed34e37004a70ca}{status} (\$job\-\_\-id)
\begin{DoxyCompactList}\small\item\em Query status of insight reports. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a8af44833abc5829a74168bec5cdb5dc7}{parse\-Response\-Url} (\$response)
\begin{DoxyCompactList}\small\item\em Helper function for parsing export status response to gather report url. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a0de324106185ce1477111745f84c4a85}{fetch\-Records\-Insight} (\$mod\-\_\-export\-\_\-class, \$job\-\_\-id, \$report\-\_\-format=\char`\"{}csv\char`\"{}, \$verbose=false, \$sleep=10)
\begin{DoxyCompactList}\small\item\em Helper function for fetching report upon completion. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a4b54d97ffa0b522f9ab30425fc595ba7}{\$cohort\-\_\-intervals}
\item 
static \hyperlink{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a1d7559051fef0f083d7d33ae18aaa6d6}{\$cohort\-\_\-types}
\item 
static \hyperlink{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a4c40a9cd27f07ec535e6c51bad40e845}{\$aggregation\-\_\-types}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 44 of file Reports\-Insight\-Base.\-php.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a4f2d06123aa69e69e8240e819364f425}{\index{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}!\-\_\-\-\_\-construct@{\-\_\-\-\_\-construct}}
\index{\-\_\-\-\_\-construct@{\-\_\-\-\_\-construct}!Tune::Management::Reports::ReportsInsightBase@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}}
\subsubsection[{\-\_\-\-\_\-construct}]{\setlength{\rightskip}{0pt plus 5cm}Tune\textbackslash{}\-Management\textbackslash{}\-Reports\textbackslash{}\-Reports\-Insight\-Base\-::\-\_\-\-\_\-construct (
\begin{DoxyParamCaption}
\item[{}]{\$controller, }
\item[{}]{\$api\-\_\-key, }
\item[{}]{\$filter\-\_\-debug\-\_\-mode, }
\item[{}]{\$filter\-\_\-test\-\_\-profile\-\_\-id, }
\item[{}]{\$validate = {\ttfamily false}}
\end{DoxyParamCaption}
)}}\label{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a4f2d06123aa69e69e8240e819364f425}


Constructor. 


\begin{DoxyParams}[1]{Parameters}
string & {\em \$controller} & \hyperlink{namespaceTune}{Tune} \hyperlink{namespaceTune_1_1Management}{Management} A\-P\-I endpoint name. \\
\hline
string & {\em \$api\-\_\-key} & \hyperlink{namespaceTune}{Tune} Mobile\-App\-Tracking A\-P\-I Key. \\
\hline
bool & {\em \$filter\-\_\-debug\-\_\-mode} & Remove debug mode information from results. \\
\hline
bool & {\em \$filter\-\_\-test\-\_\-profile\-\_\-id} & Remove test profile information from results. \\
\hline
bool & {\em \$validate} & Validate fields used by actions' parameters. \\
\hline
\end{DoxyParams}


Definition at line 84 of file Reports\-Insight\-Base.\-php.


\begin{DoxyCode}
90       \{
91         parent::\_\_construct(
92             \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a8a73dbafcc91b04d7f1a7e2aaa9b486a}{$controller},
93             \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_ac53649b4bc72055e1d55e53e0b6f244e}{$api\_key},
94             \hyperlink{classTune_1_1Management_1_1Reports_1_1ReportsBase_a6dde408a407042ce3f665e9f16f386b1}{$filter\_debug\_mode},
95             \hyperlink{classTune_1_1Management_1_1Reports_1_1ReportsBase_a2a621a3704fdccb98094c2f94bc6180e}{$filter\_test\_profile\_id},
96             \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a264eed27b0a1c963808fc7eab6da98bc}{$validate}
97         );
98     \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_aa8ef42d5b10d3540865969437261d090}{\index{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}!count@{count}}
\index{count@{count}!Tune::Management::Reports::ReportsInsightBase@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}}
\subsubsection[{count}]{\setlength{\rightskip}{0pt plus 5cm}Tune\textbackslash{}\-Management\textbackslash{}\-Reports\textbackslash{}\-Reports\-Insight\-Base\-::count (
\begin{DoxyParamCaption}
\item[{}]{\$start\-\_\-date, }
\item[{}]{\$end\-\_\-date, }
\item[{}]{\$cohort\-\_\-type, }
\item[{}]{\$group, }
\item[{}]{\$cohort\-\_\-interval = {\ttfamily null}, }
\item[{}]{\$filter = {\ttfamily null}, }
\item[{}]{\$response\-\_\-timezone = {\ttfamily null}}
\end{DoxyParamCaption}
)}}\label{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_aa8ef42d5b10d3540865969437261d090}


Counts all existing records that match filter criteria and returns an array of found model data. 


\begin{DoxyParams}[1]{Parameters}
string & {\em \$start\-\_\-date} & Y\-Y\-Y\-Y-\/\-M\-M-\/\-D\-D H\-H\-:\-M\-M\-:S\-S \\
\hline
string & {\em \$end\-\_\-date} & Y\-Y\-Y\-Y-\/\-M\-M-\/\-D\-D H\-H\-:\-M\-M\-:S\-S \\
\hline
string & {\em \$cohort\-\_\-type} & Cohort types\-: click, install \\
\hline
string & {\em \$group} & Group results using this endpoint's fields. \\
\hline
string & {\em \$cohort\-\_\-interval} & Cohort intervals\-: year\-\_\-day, year\-\_\-week, year\-\_\-month, year \\
\hline
string & {\em \$filter} & Apply constraints based upon values associated with this endpoint's fields. \\
\hline
string & {\em \$response\-\_\-timezone} & Setting expected timezone for results, default is set in account.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
object 
\end{DoxyReturn}


Definition at line 116 of file Reports\-Insight\-Base.\-php.


\begin{DoxyCode}
124       \{
125         \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a6a2939da467d84804f36b2e398516b8d}{TuneManagementBase::validateDateTime}(\textcolor{stringliteral}{'start\_date'}, $start\_date)
      ;
126         \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a6a2939da467d84804f36b2e398516b8d}{TuneManagementBase::validateDateTime}(\textcolor{stringliteral}{'end\_date'}, $end\_date);
127 
128         \textcolor{keywordflow}{if} (!is\_string($cohort\_type) || empty($cohort\_type) || !in\_array($cohort\_type, self::$cohort\_types)
      ) \{
129             \textcolor{keywordflow}{throw} new \(\backslash\)InvalidArgumentException(\textcolor{stringliteral}{"Parameter 'cohort\_type' is invalid: '\{$cohort\_type\}'."});
130         \}
131         \textcolor{keywordflow}{if} (is\_string($cohort\_interval) && !in\_array($cohort\_interval, self::$cohort\_intervals)) \{
132             \textcolor{keywordflow}{throw} new \(\backslash\)InvalidArgumentException(\textcolor{stringliteral}{"Parameter 'interval' is invalid: '\{$cohort\_interval\}'."});
133         \}
134 
135         $group = $this->\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a54b33f72379846b3c8f8f277bda4bd5f}{validateGroup}($group);
136         \textcolor{keywordflow}{if} (!is\_null($filter))
137             $filter = $this->\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a98d644de253513032083a5504fc2f412}{validateFilter}($filter);
138 
139         \textcolor{keywordflow}{return} parent::callRecords(
140             $action = \textcolor{stringliteral}{"count"},
141             $query\_string\_dict = array (
142                 \textcolor{stringliteral}{'start\_date'} => $start\_date,
143                 \textcolor{stringliteral}{'end\_date'} => $end\_date,
144                 \textcolor{stringliteral}{'cohort\_type'} => $cohort\_type,
145                 \textcolor{stringliteral}{'group'} => $group,
146                 \textcolor{stringliteral}{'interval'} => $cohort\_interval,
147                 \textcolor{stringliteral}{'filter'} => $filter,
148                 \textcolor{stringliteral}{'response\_timezone'} => $response\_timezone
149             )
150         );
151     \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_aa8ef42d5b10d3540865969437261d090_cgraph}
\end{center}
\end{figure}


\hypertarget{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a3e56e5dd9984ec0ff20db6a21de4f455}{\index{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}!export@{export}}
\index{export@{export}!Tune::Management::Reports::ReportsInsightBase@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}}
\subsubsection[{export}]{\setlength{\rightskip}{0pt plus 5cm}Tune\textbackslash{}\-Management\textbackslash{}\-Reports\textbackslash{}\-Reports\-Insight\-Base\-::export (
\begin{DoxyParamCaption}
\item[{}]{\$start\-\_\-date, }
\item[{}]{\$end\-\_\-date, }
\item[{}]{\$cohort\-\_\-type, }
\item[{}]{\$aggregation\-\_\-type, }
\item[{}]{\$group, }
\item[{}]{\$fields, }
\item[{}]{\$cohort\-\_\-interval = {\ttfamily null}, }
\item[{}]{\$filter = {\ttfamily null}, }
\item[{}]{\$response\-\_\-timezone = {\ttfamily null}}
\end{DoxyParamCaption}
)}}\label{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a3e56e5dd9984ec0ff20db6a21de4f455}


Places a job into a queue to generate a report that will contain records that match provided filter criteria, and it returns a job identifier to be provided to action /export/download.json to download completed report. 


\begin{DoxyParams}[1]{Parameters}
string & {\em \$start\-\_\-date} & Y\-Y\-Y\-Y-\/\-M\-M-\/\-D\-D H\-H\-:\-M\-M\-:S\-S \\
\hline
string & {\em \$end\-\_\-date} & Y\-Y\-Y\-Y-\/\-M\-M-\/\-D\-D H\-H\-:\-M\-M\-:S\-S \\
\hline
string & {\em \$cohort\-\_\-type} & Cohort types\-: click, install \\
\hline
string & {\em \$aggregation\-\_\-type} & Aggregation types\-: cumulative, incremental \\
\hline
string & {\em \$group} & Group results using this endpoint's fields. \\
\hline
string & {\em \$cohort\-\_\-interval} & Cohort intervals\-: year\-\_\-day, year\-\_\-week, year\-\_\-month, year \\
\hline
string & {\em \$fields} & Present results using these endpoint's fields. \\
\hline
string & {\em \$filter} & Apply constraints based upon values associated with this endpoint's fields. \\
\hline
string & {\em \$response\-\_\-timezone} & Setting expected timezone for results, default is set in account.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
object 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \textbackslash{}\-Invalid\-Argument\-Exception} & \\
\hline
\end{DoxyExceptions}


Definition at line 269 of file Reports\-Insight\-Base.\-php.


\begin{DoxyCode}
279       \{
280         \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a6a2939da467d84804f36b2e398516b8d}{TuneManagementBase::validateDateTime}(\textcolor{stringliteral}{'start\_date'}, $start\_date)
      ;
281         \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a6a2939da467d84804f36b2e398516b8d}{TuneManagementBase::validateDateTime}(\textcolor{stringliteral}{'end\_date'}, $end\_date);
282 
283         \textcolor{keywordflow}{if} (!is\_string($cohort\_type) || empty($cohort\_type) || !in\_array($cohort\_type, self::$cohort\_types)
      ) \{
284             \textcolor{keywordflow}{throw} new \(\backslash\)InvalidArgumentException(\textcolor{stringliteral}{"Parameter 'cohort\_type' is invalid: '\{$cohort\_type\}'."});
285         \}
286         \textcolor{keywordflow}{if} (!is\_string($aggregation\_type)
287             || empty($aggregation\_type)
288             || !in\_array($aggregation\_type, self::$aggregation\_types)
289         ) \{
290             \textcolor{keywordflow}{throw} new \(\backslash\)InvalidArgumentException(\textcolor{stringliteral}{"Parameter 'aggregation\_type' is invalid:
       '\{aggregation\_type\}'."});
291         \}
292 
293         \textcolor{keywordflow}{if} (!is\_null(\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a215be5184c46eee7b2b3febaba85f91b}{$fields})) \{
294             \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a215be5184c46eee7b2b3febaba85f91b}{$fields} = $this->\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_acae456ae93947fb477bea4a847d127a7}{validateFields}(\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a215be5184c46eee7b2b3febaba85f91b}{$fields});
295         \}
296         \textcolor{keywordflow}{if} (!is\_null($filter)) \{
297             $filter = $this->\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a98d644de253513032083a5504fc2f412}{validateFilter}($filter);
298         \}
299         \textcolor{keywordflow}{if} (!is\_null($group)) \{
300             $group = $this->\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a54b33f72379846b3c8f8f277bda4bd5f}{validateGroup}($group);
301         \}
302 
303         \textcolor{keywordflow}{if} (!is\_null($cohort\_interval)) \{
304             \textcolor{keywordflow}{if} (!is\_string($cohort\_interval) || empty($cohort\_interval) || !in\_array($cohort\_interval, 
      self::$cohort\_intervals)) \{
305                 \textcolor{keywordflow}{throw} new \(\backslash\)InvalidArgumentException(\textcolor{stringliteral}{"Parameter 'interval' is invalid: '\{$cohort\_interval\}'.
      "});
306             \}
307         \}
308 
309         \textcolor{keywordflow}{return} parent::callRecords(
310             $action = \textcolor{stringliteral}{"export"},
311             $query\_string\_dict = array (
312                 \textcolor{stringliteral}{'start\_date'} => $start\_date,
313                 \textcolor{stringliteral}{'end\_date'} => $end\_date,
314                 \textcolor{stringliteral}{'cohort\_type'} => $cohort\_type,
315                 \textcolor{stringliteral}{'aggregation\_type'} => $aggregation\_type,
316                 \textcolor{stringliteral}{'group'} => $group,
317                 \textcolor{stringliteral}{'interval'} => $cohort\_interval,
318                 \textcolor{stringliteral}{'filter'} => $filter,
319                 \textcolor{stringliteral}{'fields'} => \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a215be5184c46eee7b2b3febaba85f91b}{$fields},
320                 \textcolor{stringliteral}{'response\_timezone'} => $response\_timezone
321             )
322         );
323     \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a3e56e5dd9984ec0ff20db6a21de4f455_cgraph}
\end{center}
\end{figure}


\hypertarget{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a0de324106185ce1477111745f84c4a85}{\index{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}!fetch\-Records\-Insight@{fetch\-Records\-Insight}}
\index{fetch\-Records\-Insight@{fetch\-Records\-Insight}!Tune::Management::Reports::ReportsInsightBase@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}}
\subsubsection[{fetch\-Records\-Insight}]{\setlength{\rightskip}{0pt plus 5cm}Tune\textbackslash{}\-Management\textbackslash{}\-Reports\textbackslash{}\-Reports\-Insight\-Base\-::fetch\-Records\-Insight (
\begin{DoxyParamCaption}
\item[{}]{\$mod\-\_\-export\-\_\-class, }
\item[{}]{\$job\-\_\-id, }
\item[{}]{\$report\-\_\-format = {\ttfamily \char`\"{}csv\char`\"{}}, }
\item[{}]{\$verbose = {\ttfamily false}, }
\item[{}]{\$sleep = {\ttfamily 10}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a0de324106185ce1477111745f84c4a85}


Helper function for fetching report upon completion. 

Starts worker thread for polling export queue.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$mod\-\_\-export\-\_\-class} & Requesting report class for this export. \\
\hline
string & {\em \$job\-\_\-id} & Provided Job Identifier to reference requested report on export queue. \\
\hline
string & {\em \$report\-\_\-format} & Expected content format of exported report. \\
\hline
bool & {\em \$verbose} & Debug purposes only to view progress of job on export queue. \\
\hline
int & {\em \$sleep} & Polling delay between querying job status on export queue.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
null 
\end{DoxyReturn}


Definition at line 358 of file Reports\-Insight\-Base.\-php.


\begin{DoxyCode}
364       \{
365         \textcolor{keywordflow}{return} parent::fetchRecords(
366             $mod\_export\_class,
367             $mod\_export\_function = \textcolor{stringliteral}{"status"},
368             $job\_id,
369             $report\_format,
370             $verbose,
371             $sleep
372         );
373     \}
\end{DoxyCode}
\hypertarget{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a1cb8a128711b32efb903194dd84e8af6}{\index{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}!find@{find}}
\index{find@{find}!Tune::Management::Reports::ReportsInsightBase@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}}
\subsubsection[{find}]{\setlength{\rightskip}{0pt plus 5cm}Tune\textbackslash{}\-Management\textbackslash{}\-Reports\textbackslash{}\-Reports\-Insight\-Base\-::find (
\begin{DoxyParamCaption}
\item[{}]{\$start\-\_\-date, }
\item[{}]{\$end\-\_\-date, }
\item[{}]{\$cohort\-\_\-type, }
\item[{}]{\$aggregation\-\_\-type, }
\item[{}]{\$group, }
\item[{}]{\$cohort\-\_\-interval = {\ttfamily null}, }
\item[{}]{\$filter = {\ttfamily null}, }
\item[{}]{\$fields = {\ttfamily null}, }
\item[{}]{\$limit = {\ttfamily null}, }
\item[{}]{\$page = {\ttfamily null}, }
\item[{}]{\$sort = {\ttfamily null}, }
\item[{}]{\$format = {\ttfamily null}, }
\item[{}]{\$response\-\_\-timezone = {\ttfamily null}}
\end{DoxyParamCaption}
)}}\label{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a1cb8a128711b32efb903194dd84e8af6}


Finds all existing records that match filter criteria and returns an array of found model data. 


\begin{DoxyParams}[1]{Parameters}
string & {\em \$start\-\_\-date} & Y\-Y\-Y\-Y-\/\-M\-M-\/\-D\-D H\-H\-:\-M\-M\-:S\-S \\
\hline
string & {\em \$end\-\_\-date} & Y\-Y\-Y\-Y-\/\-M\-M-\/\-D\-D H\-H\-:\-M\-M\-:S\-S \\
\hline
string & {\em \$cohort\-\_\-type} & Cohort types\-: click, install \\
\hline
string & {\em \$aggregation\-\_\-type} & Aggregation types\-: cumulative, incremental \\
\hline
string & {\em \$group} & Group results using this endpoint's fields. \\
\hline
string & {\em \$cohort\-\_\-interval} & Cohort intervals\-: year\-\_\-day, year\-\_\-week, year\-\_\-month, year \\
\hline
string & {\em \$filter} & Apply constraints based upon values associated with this endpoint's fields. \\
\hline
string & {\em \$fields} & Present results using these endpoint's fields. \\
\hline
int & {\em \$limit} & Limit number of results, default 10, 0 shows all \\
\hline
int & {\em \$page} & Pagination, default 1. \\
\hline
string & {\em \$sort} & Sort results using this endpoint's fields. Directions\-: D\-E\-S\-C, A\-S\-C \\
\hline
string & {\em \$format} & \\
\hline
string & {\em \$response\-\_\-timezone} & Setting expected timezone for results, default is set in account.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
object 
\end{DoxyReturn}


Definition at line 175 of file Reports\-Insight\-Base.\-php.


\begin{DoxyCode}
189       \{
190         \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a6a2939da467d84804f36b2e398516b8d}{TuneManagementBase::validateDateTime}(\textcolor{stringliteral}{'start\_date'}, $start\_date)
      ;
191         \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a6a2939da467d84804f36b2e398516b8d}{TuneManagementBase::validateDateTime}(\textcolor{stringliteral}{'end\_date'}, $end\_date);
192 
193         \textcolor{keywordflow}{if} (!is\_string($cohort\_type) || empty($cohort\_type) || !in\_array($cohort\_type, self::$cohort\_types)
      ) \{
194             \textcolor{keywordflow}{throw} new \(\backslash\)InvalidArgumentException(\textcolor{stringliteral}{"Parameter 'cohort\_type' is invalid: '\{$cohort\_type\}'."});
195         \}
196         \textcolor{keywordflow}{if} (is\_string($cohort\_interval) && !in\_array($cohort\_interval, self::$cohort\_intervals)) \{
197             \textcolor{keywordflow}{throw} new \(\backslash\)InvalidArgumentException(\textcolor{stringliteral}{"Parameter 'interval' is invalid: '\{$cohort\_interval\}'."});
198         \}
199         \textcolor{keywordflow}{if} (!is\_string($aggregation\_type)
200             || empty($aggregation\_type)
201             || !in\_array($aggregation\_type, self::$aggregation\_types)
202         ) \{
203             \textcolor{keywordflow}{throw} new \(\backslash\)InvalidArgumentException(\textcolor{stringliteral}{"Parameter 'aggregation\_type' is invalid:
       '\{aggregation\_type\}'."});
204         \}
205 
206         \textcolor{keywordflow}{if} (!is\_null(\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a215be5184c46eee7b2b3febaba85f91b}{$fields})) \{
207             \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a215be5184c46eee7b2b3febaba85f91b}{$fields} = $this->\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_acae456ae93947fb477bea4a847d127a7}{validateFields}(\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a215be5184c46eee7b2b3febaba85f91b}{$fields});
208         \}
209         \textcolor{keywordflow}{if} (!is\_null($filter)) \{
210             $filter = $this->\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a98d644de253513032083a5504fc2f412}{validateFilter}($filter);
211         \}
212         \textcolor{keywordflow}{if} (!is\_null($sort)) \{
213             $sort = $this->\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_aa81ef05c1abaf189a0fedb49af9df1bd}{validateSort}($sort);
214         \}
215         \textcolor{keywordflow}{if} (!is\_null($group)) \{
216             $group = $this->\hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a54b33f72379846b3c8f8f277bda4bd5f}{validateGroup}($group);
217         \}
218 
219         \textcolor{keywordflow}{if} (!is\_null($cohort\_interval)) \{
220             \textcolor{keywordflow}{if} (!is\_string($cohort\_interval)
221                 || empty($cohort\_interval)
222                 || !in\_array($cohort\_interval, self::$cohort\_intervals)
223             ) \{
224                 \textcolor{keywordflow}{throw} new \(\backslash\)InvalidArgumentException(\textcolor{stringliteral}{"Parameter 'interval' is invalid: '\{$cohort\_interval\}'.
      "});
225             \}
226         \}
227 
228         \textcolor{keywordflow}{return} parent::callRecords(
229             $action = \textcolor{stringliteral}{"find"},
230             $query\_string\_dict = array (
231                 \textcolor{stringliteral}{'start\_date'} => $start\_date,
232                 \textcolor{stringliteral}{'end\_date'} => $end\_date,
233                 \textcolor{stringliteral}{'cohort\_type'} => $cohort\_type,
234                 \textcolor{stringliteral}{'aggregation\_type'} => $aggregation\_type,
235                 \textcolor{stringliteral}{'group'} => $group,
236                 \textcolor{stringliteral}{'interval'} => $cohort\_interval,
237                 \textcolor{stringliteral}{'filter'} => $filter,
238                 \textcolor{stringliteral}{'fields'} => \hyperlink{classTune_1_1Management_1_1Endpoints_1_1TuneManagementBase_a215be5184c46eee7b2b3febaba85f91b}{$fields},
239                 \textcolor{stringliteral}{'limit'} => $limit,
240                 \textcolor{stringliteral}{'page'} => $page,
241                 \textcolor{stringliteral}{'sort'} => $sort,
242                 \textcolor{stringliteral}{'format'} => $format,
243                 \textcolor{stringliteral}{'response\_timezone'} => $response\_timezone
244             )
245         );
246     \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a1cb8a128711b32efb903194dd84e8af6_cgraph}
\end{center}
\end{figure}


\hypertarget{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a8af44833abc5829a74168bec5cdb5dc7}{\index{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}!parse\-Response\-Url@{parse\-Response\-Url}}
\index{parse\-Response\-Url@{parse\-Response\-Url}!Tune::Management::Reports::ReportsInsightBase@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}}
\subsubsection[{parse\-Response\-Url}]{\setlength{\rightskip}{0pt plus 5cm}static Tune\textbackslash{}\-Management\textbackslash{}\-Reports\textbackslash{}\-Reports\-Insight\-Base\-::parse\-Response\-Url (
\begin{DoxyParamCaption}
\item[{}]{\$response}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a8af44833abc5829a74168bec5cdb5dc7}


Helper function for parsing export status response to gather report url. 


\begin{DoxyParams}[1]{Parameters}
Response & {\em \$response} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
mixed 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \textbackslash{}\-Invalid\-Argument\-Exception} & \\
\hline
{\em \textbackslash{}\-Tune\textbackslash{}\-Common\textbackslash{}\-Tune\-Service\-Exception} & \\
\hline
\end{DoxyExceptions}


Definition at line 384 of file Reports\-Insight\-Base.\-php.


\begin{DoxyCode}
386       \{
387         \textcolor{keywordflow}{if} (is\_null($response)) \{
388             \textcolor{keywordflow}{throw} new \(\backslash\)InvalidArgumentException(\textcolor{stringliteral}{"Parameter 'response' is not defined."});
389         \}
390 
391         \textcolor{keywordflow}{if} (is\_null($response->getData())) \{
392             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} TuneServiceException(\textcolor{stringliteral}{"Report request failed to get export data."});
393         \}
394 
395         \textcolor{keywordflow}{if} (!array\_key\_exists(\textcolor{stringliteral}{"url"}, $response->getData())) \{
396             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} TuneSdkException(\textcolor{stringliteral}{"Export data does not contain report url for download."});
397         \}
398 
399         $report\_url = $response->getData()[\textcolor{stringliteral}{"url"}];
400 
401         \textcolor{keywordflow}{return} $report\_url;
402     \}
\end{DoxyCode}
\hypertarget{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_aaae96a8b5716cb100ed34e37004a70ca}{\index{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}!status@{status}}
\index{status@{status}!Tune::Management::Reports::ReportsInsightBase@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}}
\subsubsection[{status}]{\setlength{\rightskip}{0pt plus 5cm}Tune\textbackslash{}\-Management\textbackslash{}\-Reports\textbackslash{}\-Reports\-Insight\-Base\-::status (
\begin{DoxyParamCaption}
\item[{}]{\$job\-\_\-id}
\end{DoxyParamCaption}
)}}\label{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_aaae96a8b5716cb100ed34e37004a70ca}


Query status of insight reports. 

Upon completion will return url to download requested report.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$job\-\_\-id} & Provided Job Identifier to reference requested report on export queue. \\
\hline
\end{DoxyParams}


Definition at line 331 of file Reports\-Insight\-Base.\-php.


\begin{DoxyCode}
333       \{
334         \textcolor{keywordflow}{if} (!is\_string($job\_id) || empty($job\_id)) \{
335             \textcolor{keywordflow}{throw} new \(\backslash\)InvalidArgumentException(\textcolor{stringliteral}{"Parameter 'job\_id' is not defined."});
336         \}
337 
338         \textcolor{keywordflow}{return} parent::call(
339             $action = \textcolor{stringliteral}{"status"},
340             $query\_string\_dict = array (
341                 \textcolor{stringliteral}{'job\_id'} => $job\_id
342             )
343         );
344     \}
\end{DoxyCode}


\subsection{Field Documentation}
\hypertarget{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a4c40a9cd27f07ec535e6c51bad40e845}{\index{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}!\$aggregation\-\_\-types@{\$aggregation\-\_\-types}}
\index{\$aggregation\-\_\-types@{\$aggregation\-\_\-types}!Tune::Management::Reports::ReportsInsightBase@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}}
\subsubsection[{\$aggregation\-\_\-types}]{\setlength{\rightskip}{0pt plus 5cm}Tune\textbackslash{}\-Management\textbackslash{}\-Reports\textbackslash{}\-Reports\-Insight\-Base\-::\$aggregation\-\_\-types\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}}\label{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a4c40a9cd27f07ec535e6c51bad40e845}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= array(
            \textcolor{stringliteral}{"incremental"},
            \textcolor{stringliteral}{"cumulative"}
        )
\end{DoxyCode}


Definition at line 70 of file Reports\-Insight\-Base.\-php.

\hypertarget{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a4b54d97ffa0b522f9ab30425fc595ba7}{\index{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}!\$cohort\-\_\-intervals@{\$cohort\-\_\-intervals}}
\index{\$cohort\-\_\-intervals@{\$cohort\-\_\-intervals}!Tune::Management::Reports::ReportsInsightBase@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}}
\subsubsection[{\$cohort\-\_\-intervals}]{\setlength{\rightskip}{0pt plus 5cm}Tune\textbackslash{}\-Management\textbackslash{}\-Reports\textbackslash{}\-Reports\-Insight\-Base\-::\$cohort\-\_\-intervals\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}}\label{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a4b54d97ffa0b522f9ab30425fc595ba7}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= array(
            \textcolor{stringliteral}{"year\_day"},
            \textcolor{stringliteral}{"year\_week"},
            \textcolor{stringliteral}{"year\_month"},
            \textcolor{stringliteral}{"year"}
        )
\end{DoxyCode}


Definition at line 50 of file Reports\-Insight\-Base.\-php.

\hypertarget{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a1d7559051fef0f083d7d33ae18aaa6d6}{\index{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}!\$cohort\-\_\-types@{\$cohort\-\_\-types}}
\index{\$cohort\-\_\-types@{\$cohort\-\_\-types}!Tune::Management::Reports::ReportsInsightBase@{Tune\-::\-Management\-::\-Reports\-::\-Reports\-Insight\-Base}}
\subsubsection[{\$cohort\-\_\-types}]{\setlength{\rightskip}{0pt plus 5cm}Tune\textbackslash{}\-Management\textbackslash{}\-Reports\textbackslash{}\-Reports\-Insight\-Base\-::\$cohort\-\_\-types\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}}\label{classTune_1_1Management_1_1Reports_1_1ReportsInsightBase_a1d7559051fef0f083d7d33ae18aaa6d6}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= array(
            \textcolor{stringliteral}{"click"},
            \textcolor{stringliteral}{"install"}
        )
\end{DoxyCode}


Definition at line 61 of file Reports\-Insight\-Base.\-php.



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
lib/\-Tune/\-Management/\-Reports/\hyperlink{ReportsInsightBase_8php}{Reports\-Insight\-Base.\-php}\end{DoxyCompactItemize}
